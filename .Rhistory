library(ProjectTemplate)
setwd("D:/mzimbric/Desktop/Projects")
create.project(project.name = "inflammation", minimal = TRUE)
setwd("D:/mzimbric/Desktop/Projects/inflammation")
load.project()
View(inflammation.reads1)
View(inflammation.reads2)
View(inflammation.reads1)
View(inflammation.reads2)
library(stringr)
strings <- c(" 219 733 8965", "329-293-8753 ", "banana", "595 794 7569",
"387 287 6718", "apple", "233.398.9187  ", "482 952 3315",
"239 923 8115 and 842 566 4692", "Work: 579-499-7527", "$1000",
"Home: 543.355.3679")
phone <- "([2-9][0-9]{2})[- .]([0-9]{3})[- .]([0-9]{4})"
str_match(strings, phone)
str_extract(strings, phone)
inflammation.reads1$samplesource <- str_match(inflammation.reads1$Sample, "[:alpha:]^[:alpha:]")
View(inflammation.reads1)
inflammation.reads1$samplesource <- str_match(inflammation.reads1$Sample, "[:alpha:][^:alpha:]")
View(inflammation.reads1)
inflammation.reads1$storage_days <- str_match(inflammation.reads1$Sample, "^[:digit:]")
View(inflammation.reads1)
inflammation.reads1$storage_days <- str_match(inflammation.reads1$Sample, "^[:digit:][:digit:]?")
View(inflammation.reads1)
inflammation.reads1$samplesource <- str_match(inflammation.reads1$Sample, "[:alpha:]$")
View(inflammation.reads1)
inflammation.reads1$replicate[grep(pattern = "[ACEGIKM]", inflammation.reads1$Sample, value = FALSE)] <- 1
grep(pattern = "[ACEGIKM]", inflammation.reads1$Sample, value = FALSE)
inflammation.reads1$replicate[grep(pattern = "[ACEGIKM]", inflammation.reads1$Sample, value = FALSE),] <- 1
inflammation.reads1$replicate[grep(pattern = "[BDFHJL]", inflammation.reads1$Sample, value = FALSE)] <- 2
inflammation.reads1$replicate[grep(pattern = "[ACEGIKM]", inflammation.reads1$Sample, value = FALSE)] <- 1
View(inflammation.reads1)
as.factor(inflammation.reads1$replicate)
inflammation.reads1$replicate <- as.factor(inflammation.reads1$replicate)
View(inflammation.reads1)
View(inflammation.reads1)
as.numeric("a")
extract_useful <- function(data) {
data <- data[grep(pattern = "^[:digit][:digit:]?[:alpha:]$", data$Samples, value = FALSE)]
return(data)
}
inflammation.reads1 <- extract_useful(inflammation.reads1)
View(inflammation.reads2)
View(inflammation.reads1)
data <- data[grep(pattern = "^[:digit][:digit:]?[:alpha:]$", samples, value = FALSE)]
extract_useful <- function(data, samples) {
data <- data[grep(pattern = "^[:digit][:digit:]?[:alpha:]$", samples, value = FALSE)]
return(data)
}
load.project()
load.project()
View(inflammation.reads1)
View(inflammation.reads1)
load.project()
View(inflammation.reads1)
extract_useful <- function(data, samples) {
data <- data[grep(pattern = "^[:digit][:digit:]?[:alpha:]$", samples, value = FALSE)]
return(data)
}
inflammation.reads1 <- extract_useful(inflammation.reads1, inflammation.reads1$Sample)
View(inflammation.reads1)
load.project()
load.project()
inflammation.reads1 <- inflammation.reads1[grep(pattern = "^[:digit][:digit:]?[:alpha:]$", inflammation.reads1$Sample, value = FALSE)
]
grep(pattern = "^[:digit][:digit:]?[:alpha:]$", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "^[:digit][:digit:][:alpha:]$", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "[:digit][:digit:][:alpha:]$", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "[:digit][:digit:][:alpha:]", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "^[:digit:][:digit:]?[:alpha:]$", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "^[:digit:][:digit:]?[:alpha:]", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "[:digit:][:digit:]?[:alpha:]", inflammation.reads1$Sample, value = FALSE)
load.project()
load.project()
grep(pattern = "[:digit:][:digit:]?[:alpha:]", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "[:digit:][:digit:]?[:alpha:]", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "[:digit:]", inflammation.reads1$Sample, value = FALSE)
View(inflammation.reads1)
example("str_detect")
example("str_count")
example("grep")
grep(pattern = "^[:digit:][:digit:]?[:alpha:]$", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "[:digit:]", inflammation.reads1$Sample, value = FALSE)
grepl(pattern = "[:digit:]", inflammation.reads1$Sample)
str(inflammation.reads1)
inflammation.reads1$Sample <- as.character(inflammation.reads1$Sample)
grepl(pattern = "[:digit:]", inflammation.reads1$Sample)
str(inflammation.reads1)
grep(pattern = "[:digit:]", inflammation.reads1$Sample)
str_match(pattern = "[:digit:]", inflammation.reads1$Sample)
grep(pattern = "[:digit:]", inflammation.reads1$Sample)
grep(pattern = "[BDFHJL]", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "[:alpha:]", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "[:alpha:]$", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "\\d\\d", inflammation.reads1$Sample, value = FALSE)
grep(pattern = "^\\d\\d", inflammation.reads1$Sample, value = FALSE)
extract_useful <- function(data, samples) {
data <- data[grep(pattern = "^\\d\\d", samples, value = FALSE)]
return(data)
}
inflammation.reads1 <- extract_useful(inflammation.reads1, inflammation.reads1$Sample)
extract_useful <- function(data, samples) {
matches <- grep(pattern = "^\\d\\d", samples, value = FALSE)
data <- data[matches]
return(data)
}
inflammation.reads1 <- extract_useful(inflammation.reads1, inflammation.reads1$Sample)
extract_useful <- function(data, samples) {
matches <- grep(pattern = "^\\d\\d", samples, value = FALSE)
data <- data[matches,]
return(data)
}
inflammation.reads1 <- extract_useful(inflammation.reads1, inflammation.reads1$Sample)
View(inflammation.reads1)
extract_useful <- function(data, samples) {
matches <- grep(pattern = "^\\d\\d?", samples, value = FALSE)
data <- data[matches,]
return(data)
}
load.project()
extract_useful <- function(data, samples) {
matches <- grep(pattern = "^\\d\\d?", samples, value = FALSE)
data <- data[matches,]
return(data)
}
inflammation.reads1 <- extract_useful(inflammation.reads1, inflammation.reads1$Sample)
View(inflammation.reads1)
inflammation.reads2 <- extract_useful(inflammation.reads2, inflammation.reads2$Sample)
View(inflammation.reads2)
inflammation_data <- merge(inflammation.reads2, inflammation.reads1)
View(inflammation_data)
rm_less_thans <- function(data_column){
data_column[grep(pattern = "<", data_column,value = FALSE)] <- NA
}
apply(inflammation.reads1, 2, rm_less_than)
apply(inflammation.reads1, 2, rm_less_thans)
sapply(inflammation.reads1, 2, rm_less_thans)
sapply(inflammation.reads1, rm_less_thans)
ddply(inflammation.reads1, rm_less_thans)
ddply(inflammation.reads1,, rm_less_thans)
colwise(rm_less_thans)(inflammation.reads1)
View(inflammation_data)
View(inflammation.reads1)
grep(pattern = "<", inflammation.reads1$IL.10 ,value = FALSE)
inflammation.reads$IL.10[grep(pattern = "<", inflammation.reads1$IL.10 ,value = FALSE)] <- NA
inflammation.reads1$IL.10[grep(pattern = "<", inflammation.reads1$IL.10 ,value = FALSE)] <- NA
View(inflammation.reads1)
rm_less_thans <- function(data_column){
data_column[grep(pattern = "<", data_column,value = FALSE)] <- NA
}
f <- colwise(rm_less_thans)
f(inflammation.reads2)
View(inflammation.reads1)
View(inflammation.reads2)
a <- f(inflammation.reads2)
View(a)
View(a)
rm_less_thans <- function(data_column){
less_thans <- grep(pattern = "<", data_column,value = FALSE)
data_column[less_thans] <- NA
}
f <- colwise(rm_less_thans)
a <- f(inflammation.reads2)
View(a)
rm_less_thans <- function(data_column){
less_thans <- grep(pattern = "<", data_column,value = FALSE)
data_column[less_thans,] <- NA
}
f <- colwise(rm_less_thans)
a <- f(inflammation.reads2)
less_thans <- grep(pattern = "<", inflammation.reads1$IL.10, value = FALSE)
less_thans <- grep(pattern = "[:punct:]", inflammation.reads1$IL.10, value = FALSE)
less_thans <- grep(pattern = "<", as.character(inflammation.reads1$IL.10), value = FALSE)
as.character(inflammation.reads1$IL.10)
View(inflammation.reads1)
rm_less_thans <- function(data_column){
less_thans <- grep(pattern = "<", as.character(data_column), value = FALSE)
data_column[less_thans] <- NA
}
f <- colwise(rm_less_thans)
a <- f(inflammation.reads2)
View(a)
View(inflammation.reads1)
load.project()
extract_useful <- function(data, samples) {
matches <- grep(pattern = "^\\d\\d?", samples, value = FALSE)
data <- data[matches,]
return(data)
}
#and now we call them on the two sets
inflammation.reads1 <- extract_useful(inflammation.reads1, inflammation.reads1$Sample)
inflammation.reads2 <- extract_useful(inflammation.reads2, inflammation.reads2$Sample)
rm_less_thans <- function(data_column){
less_thans <- grep(pattern = "<", as.character(data_column), value = FALSE)
data_column[less_thans] <- NA
}
f <- colwise(rm_less_thans)
a <- f(inflammation.reads2)
less_thans <- grep(pattern = "<", as.character(inflammation.reads1$EGF), value = FALSE)
inflammation.reads1$EGF[less_thans] <- NA
View(inflammation.reads1)
rm_less_thans <- function(data_column){
less_thans <- grep(pattern = "<", as.character(data_column), value = FALSE)
data_column[less_thans] <- NA
return(data_column)
}
f <- colwise(rm_less_thans)
a <- f(inflammation.reads2)
View(a)
rm_less_thans <- function(data_column){
less_thans <- grep(pattern = "<", as.character(data_column), value = FALSE)
data_column[less_thans] <- NA
return(data_column)
}
f <- colwise(rm_less_thans)
inflammation.reads1 <- f(inflammation.reads1)
inflammation.reads2 <- f(inflammation.reads2)
inflammation_data <- merge(inflammation.reads2, inflammation.reads1)
View(inflammation_data)
View(inflammation.reads1)
load.project()
extract_useful <- function(data, samples) {
matches <- grep(pattern = "^\\d\\d?", samples, value = FALSE)
data <- data[matches,]
return(data)
}
#and now we call them on the two sets
inflammation.reads1 <- extract_useful(inflammation.reads1, inflammation.reads1$Sample)
inflammation.reads2 <- extract_useful(inflammation.reads2, inflammation.reads2$Sample)
rm_less_thans <- function(data_column){
less_thans <- grep(pattern = "<", as.character(data_column), value = FALSE)
data_column[less_thans] <- NA
return(data_column)
}
f <- colwise(rm_less_thans)
inflammation.reads1 <- f(inflammation.reads1)
inflammation.reads2 <- f(inflammation.reads2)
View(inflammation.reads1)
str(inflammation.reads1)
inflammation_data <- merge(inflammation.reads2, inflammation.reads1)
View(inflammation_data)
View(inflammation.reads1)
load.project()
load.project()
load.project()
#this function takes the dataset and removes standards and clinical samples
extract_useful <- function(data, samples) {
matches <- grep(pattern = "^\\d\\d?", samples, value = FALSE)
data <- data[matches,]
return(data)
}
#and now we call them on the two sets
inflammation.reads1 <- extract_useful(inflammation.reads1, inflammation.reads1$Sample)
inflammation.reads2 <- extract_useful(inflammation.reads2, inflammation.reads2$Sample)
#In order to merge the sets, we need to deal with the < entries and convert the marker values to numerics
rm_less_thans <- function(data_column){
less_thans <- grep(pattern = "<", as.character(data_column), value = FALSE)
data_column[less_thans] <- NA
return(data_column)
}
f <- colwise(rm_less_thans)
inflammation.reads1 <- f(inflammation.reads1)
inflammation.reads2 <- f(inflammation.reads2)
inflammation_data <- merge(inflammation.reads2, inflammation.reads1)
example("as.numeric")
View(inflammation.reads1)
as.numeric(inflammation.reads1[2:32])
as.numeric(inflammation.reads1[2:32,])
inflammation.reads1[3:32]
View(inflammation.reads1)
ddply(inflammation.reads1, 3:32, as.numeric)
View(inflammation.reads1)
ddply(inflammation.reads2, 3:27, as.numeric)
inflammation.reads1 <- ddply(inflammation.reads1, 3:32, as.numeric)
inflammation.reads2 <- ddply(inflammation.reads2, 3:27, as.numeric)
View(inflammation.reads1)
